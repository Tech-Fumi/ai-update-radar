# v0.1.1-next-action

## Added
- **Fix Task** ボタン: 失敗した run から修正タスクを作成し、TaskQueue に積む
- POST `/runs/{run_id}/fix-task` API

## Viewer → Next Action 連携（完成）

| アクション | 機能 | 対象 |
|-----------|------|------|
| Retry | 同条件リトライ | failed のみ |
| Re-run | 汎用再実行 | 全 run |
| Fix Task | 修正タスク化 | failed のみ |

## 運用ループ

```
失敗を見る → リトライ/再実行 → ダメなら修正タスク化 → Claude Code が拾う → 結果が Viewer に戻る
```

**"観測 → 行動 → 結果" の自己完結ループが完成。**

## Commits

### ai-update-radar
- `e1613cf` feat(viewer): add Fix Task button for failed runs

### infra-automation
- `a33f7d4` feat(relay): add POST /runs/{run_id}/fix-task for fix task creation
- `b4acd73` fix(relay-api): use task_store.create_queued for fix-task

## trace_id 形式
- Fix Task: `tr_fix_<run_id>_<rand>`
