# v0.2.3-recommendation-baseline

summary_card にルールベースの recommendation を追加。AI 判断なしで「次に押すべきボタン」が分かる。

## Added

### recommendation フィールド

summary_card に推奨アクションを追加:

```json
{
  "decision": "失敗",
  "hypothesis": "...",
  "recommendation": "retry"
}
```

| 値 | 意味 |
|----|------|
| `retry` | 同じ設定で再実行 |
| `rerun` | MCP 再接続後に再実行 |
| `fix` | 修正が必要 |
| `noop` | 何もしない（成功時） |

### 判定ルール（ルールベース、AI 不使用）

| 条件 | recommendation |
|------|----------------|
| status=completed & passed=true | noop |
| status=failed & error_code=TIMEOUT | retry |
| status=failed & error_stage=mcp_call & error_code≠TIMEOUT | rerun |
| status=failed & changes > 0 | fix |
| status=failed（その他） | fix |

### UI ハイライト

推奨ボタンを視覚的に強調:

- 黄色のリング（`ring-2 ring-yellow-400`）
- ★ アイコン
- Summary Card に Recommendation バッジ表示

| recommendation | 対象ボタン |
|----------------|-----------|
| retry | Retry |
| rerun | Re-run |
| fix | Fix Task |
| noop | なし（非表示） |

## 効果

| Before | After |
|--------|-------|
| 3つのボタンを見て迷う | 推奨ボタンが光っている |
| summary_card を読んで判断 | ★ を押せばいい |
| 「TIMEOUT なら Retry」を覚える | ルールが自動適用 |

## Schema

```json
"recommendation": {
  "type": "string",
  "enum": ["retry", "rerun", "fix", "noop"]
}
```

## Tests

9 テスト追加（計 33 PASS）

- `TestDetermineRecommendation`: ルールロジック
- `TestRecommendationInCard`: カード統合

## Commits

### infra-automation
- `6bea55a` feat(summary-card): add rule-based recommendation (v0.2.3)

### ai-update-radar
- `081a8d6` feat(frontend): add recommendation highlight to run detail (v0.2.3)
